{% extends "base.html" %}
{% load staticfiles %}

{% block title %}{{ product.name }} Course Dashboard - {{ block.super }}{% endblock %}

{% block analytics %}
analytics.page("{{ product.name }} Course Dashboard");
{% endblock %}

{% block bodyclass %}
<body id="course-page">
{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <ul class="breadcrumb">
            <li><a href="{% url 'dashboard' %}">Dashboard</a></li>
            <li class="active">{{ product.name }} Course</li>
        </ul>
        <div class="col-sm-2 small" style="border-right:1px solid #e1e1e1;">
            <h4 class="no-top-margin">Download Files</h4>
            <ul class="list-unstyled">
                <li>
                    <a href="">PDF</a>
                </li>
                <li>
                    <a href="">ePub</a>
                </li>
                <li>
                    <a href="">.mobi/Kindle</a>
                </li>
            </ul>
            <h4>Videos</h4>
            {% for module, chapters in course.items %}
            <b>{{ module }}</b>
            <ul class="list-unstyled">
                {% for k, v in chapters.items %}
                <li>
                    <a href="" data-video="{{ v.video }}" data-template="{{ v.template }}" data-name="{{ k }}. {{ v.name }}" class="chapter-link" title='Click to watch video: "{{ k }}. {{ v.name }}"'>
                        {{ k }}. {{ v.name }}
                    </a>
                </li>
                {% endfor %}
            </ul>
            {% endfor %}
        </div>
        <div class="col-sm-10">
            <h1 class="h3 bottom-margin" id="course-name">TODO: Course Video Name</h1>
            <div style="border:1px solid #e1e1e1; height: 500px;" class="bottom-margin">
                <!-- Video goes here -->
            </div>
            <p>Video description goes here.</p>

        </div>
    </div>
    <hr style="margin:4em 0 2em 0; border-color:#f7f7f7;"/>
</div>
{% endblock content %}

{% block scripts %}
<script type="text/javascript">
    $(".chapter-link").click(function() {
        const name = $(this).attr('data-name');
        document.getElementById("course-name").innerHTML = name
        return false;
    });
</script>
{% endblock %}
